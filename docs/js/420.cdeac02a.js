"use strict";(self["webpackChunkcute_owner"]=self["webpackChunkcute_owner"]||[]).push([[420],{3364:function(e,l,a){a.d(l,{e:function(){return o},p:function(){return n}});var t=a(6943);const u="https://api.mausurabbit.xyz/item",s={withCredentials:!0},n=()=>t.Z.get(`${u}/list`,s),o=e=>t.Z.post(`${u}/edit`,e)},4420:function(e,l,a){a.r(l),a.d(l,{default:function(){return f}});var t=a(3396),u=a(7139),s=a(4870),n=a(3364),o=a(544),i=a(8304),c=a(5488),d=a(6073),r=a(9545);const v={class:"centralize-container"},m=(0,t._)("h1",null,"兔兔編輯物品",-1);var p=(0,t.aZ)({__name:"ItemEdit",setup(e){const l=(0,s.iH)(null),a=(0,t.Fl)((()=>l.value?.map((e=>({text:(0,i.Y)(e.name),value:e.id}))))),p=(0,s.iH)(null),y=(0,t.Fl)((()=>l.value?.find((e=>e.id===p.value?.value)))),_=(0,s.iH)(""),b=(0,s.iH)(""),w=async()=>{try{l.value=(await(0,n.p)()).data,_.value=y.value?.name||"",b.value=y.value?.description||""}catch(e){(0,c.l)("無法取得使用者名單或物品列表")}};(0,t.bv)(w),(0,t.m0)((async()=>{_.value=y.value?.name||"",b.value=y.value?.description||""}));const f=async()=>{try{if(!p.value)throw new Error;await(0,n.e)({id:p.value.value,name:_.value,description:b.value}),(0,c.l)("成功"),await w()}catch(e){(0,c.l)("失敗")}};return(e,l)=>((0,t.wg)(),(0,t.iD)("div",v,[m,(0,t.Wm)(o.Z,{value:p.value,"onUpdate:value":l[0]||(l[0]=e=>p.value=e),class:(0,u.C_)(e.$style.control),options:(0,s.SU)(a),label:"物品"},null,8,["value","class","options"]),(0,t.Wm)((0,s.SU)(d.gN),{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=e=>_.value=e),label:"名字",class:(0,u.C_)(e.$style.control),disabled:!0},null,8,["modelValue","class"]),(0,t.Wm)((0,s.SU)(d.gN),{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),label:"描述",type:"textarea",class:(0,u.C_)([e.$style.control,e.$style.des]),disabled:!(0,s.SU)(y)},null,8,["modelValue","class","disabled"]),(0,t.Wm)((0,s.SU)(r.zx),{class:(0,u.C_)(e.$style.control),round:!0,type:"primary",disabled:!(0,s.SU)(y),onClick:f},{default:(0,t.w5)((()=>[(0,t.Uk)(" 發送 ")])),_:1},8,["class","disabled"])]))}}),y={control:"ItemEdit_control_RyWGh",des:"ItemEdit_des_Ys8lM"},_=a(89);const b={};b["$style"]=y;const w=(0,_.Z)(p,[["__cssModules",b]]);var f=w}}]);