"use strict";(self["webpackChunkcute_owner"]=self["webpackChunkcute_owner"]||[]).push([[80],{4257:function(a,l,e){e.d(l,{QX:function(){return c},ev:function(){return s},t8:function(){return o}});var t=e(6943);const u="https://api.mausurabbit.xyz/backpack",n={withCredentials:!0},s=()=>t.Z.get(`${u}`,n),c=(a,l)=>t.Z.get(`${u}/count`,{params:{userID:a,itemID:l},...n}),o=(a,l,e)=>t.Z.post(`${u}/set`,{user_id:a,item_id:l,count:e},n)},2080:function(a,l,e){e.r(l),e.d(l,{default:function(){return U}});var t=e(3396),u=e(7139),n=e(4870),s=e(3364),c=e(6943);const o="https://api.mausurabbit.xyz/manager",v={withCredentials:!0},i=()=>c.Z.get(`${o}/users`,v);var r=e(4257),d=e(5488),p=e(6073),m=e(9545),_=e(544),b=e(8304);const y={class:"centralize-container"},f=(0,t._)("h1",null,"兔兔發禮物",-1);var k=(0,t.aZ)({__name:"BackpackSet",setup(a){const l=(0,n.iH)(null),e=(0,n.iH)(null),c=(0,t.Fl)((()=>l.value?.map((a=>({text:a.username,value:a.id}))))),o=(0,t.Fl)((()=>e.value?.map((a=>({text:(0,b.Y)(a.name),value:a.id}))))),v=(0,n.iH)(null),k=(0,n.iH)(null),w=(0,n.iH)("0");(0,t.bv)((async()=>{try{l.value=(await i()).data,e.value=(await(0,s.p)()).data}catch(a){(0,d.l)("無法取得使用者名單或物品列表")}})),(0,t.m0)((async()=>{if(w.value=null,v.value&&k.value)try{w.value=(await(0,r.QX)(v.value.value,k.value.value)).data.count}catch(a){(0,d.l)("無法取得背包物品個數")}}));const h=async()=>{try{if(!v.value||!k.value||null===w.value)return;await(0,r.t8)(v.value.value,k.value.value,parseInt(w.value)),(0,d.l)("設定成功")}catch(a){console.log(a),(0,d.l)("無法設定物品個數")}};return(a,l)=>((0,t.wg)(),(0,t.iD)("div",y,[f,(0,t.Wm)(_.Z,{value:v.value,"onUpdate:value":l[0]||(l[0]=a=>v.value=a),class:(0,u.C_)(a.$style.control),options:(0,n.SU)(c),label:"使用者"},null,8,["value","class","options"]),(0,t.Wm)(_.Z,{value:k.value,"onUpdate:value":l[1]||(l[1]=a=>k.value=a),class:(0,u.C_)(a.$style.control),options:(0,n.SU)(o),label:"物品"},null,8,["value","class","options"]),(0,t.Wm)((0,n.SU)(p.gN),{"model-value":null!==w.value?w.value:"",label:"個數",class:(0,u.C_)(a.$style.control),disabled:!v.value||!k.value||null===w.value,"onUpdate:modelValue":l[2]||(l[2]=a=>w.value=a)},null,8,["model-value","class","disabled"]),(0,t.Wm)((0,n.SU)(m.zx),{class:(0,u.C_)(a.$style.control),round:!0,type:"primary",disabled:!v.value||!k.value,onClick:h},{default:(0,t.w5)((()=>[(0,t.Uk)(" 發送 ")])),_:1},8,["class","disabled"])]))}}),w={control:"BackpackSet_control_XNijl"},h=e(89);const C={};C["$style"]=w;const $=(0,h.Z)(k,[["__cssModules",C]]);var U=$}}]);